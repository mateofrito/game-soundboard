<html>
<head>
        <meta charset="UTF-8">
        <link href="https://fonts.googleapis.com/css?family=Lora|Oswald" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
        <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
        <link rel="manifest" href="/favicons/site.webmanifest">
        <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#fb7834">
        <link rel="shortcut icon" href="/favicons/favicon.ico">
        <meta name="msapplication-TileColor" content="#fb7834">
        <meta name="msapplication-config" content="/favicons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="JavaScript" href="carousel.js"></link>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href ="layoutsoundboard.css">
<title>MATT FRY DOT IO</title>

  
</head>
<body>
        <header>
                <div class="topnav" id="myTopnav">
                  <a href="http://mattfry.io" class="frylogo"><img src="http://mattfry.io/images/friestransparent.png" width="45"/></a>
                  
                  <a class="link"  href="http:/mattfry.io/retrogames.html"><i class="fas fa-gamepad"></i> RETRO GAMES</a>
                  <a class="links" href="http://mattfry.io/personal.html"><i class="fas fa-book-open"></i> BIO</a>
                  
                  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
                    <img src="http://mattfry.io/images/fryburger.png" width="45"></i>
                  </a>
                </div>
        </header>
    <div class="mariologocontainer"></div>
        <img  class="mariologo" src="./images/mariosoundboard.png"></img>
    </div>
  <div class="keys">
    <div data-key="65" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
      <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="83" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
      <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="68" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="70" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="71" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="72" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="74" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="75" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
    <div data-key="76" class="key">
            <img id="block" class ="block" src ="./images/mario3box.gif"></img>
            <!-- <span class="sound">clap</span> -->
    </div>
  </div>
 <!-- datakey is equal to whatever the key on the keyboard is, example: 65 is the A key -->

  <audio data-key="65" src="retrowavs/smb3_1-up.wav"></audio>
  <audio data-key="83" src="retrowavs/mparty8_toad_07.wav"></audio>
  <audio data-key="68" src="retrowavs/smb_mariodie.wav"></audio>
  <audio data-key="70" src="retrowavs/smb_powerup.wav"></audio>
  <audio data-key="71" src="retrowavs/smb3_coin.wav"></audio>
  <audio data-key="72" src="retrowavs/smb3_kick.wav"></audio>
  <audio data-key="74" src="retrowavs/smb3_hurry_up.wav"></audio>
  <audio data-key="75" src="retrowavs/smb3_vine.wav"></audio>
  <audio data-key="76" src="retrowavs/smb3_enter_level.wav"></audio>


  <script type="text/javascript" src="carousel.js"></script>
<script>
  
  function removeTransition(e) {
    //this function removes the transform css propperty from the div class key

    if (e.propertyName !== 'transform') return; //skip it if its not a transform property in playing
    e.target.classList.remove('playing');
  }

  function changeBlock(e){
      //evaluates which data-key div was pressed then evaluates the img element inside of the data-key div
        const elem = document.querySelector(`[data-key="${e.keyCode}"] img`);
        console.log(elem.src) //outputs the element link in the console
        if (elem.src == 'http://mattfry.io/game-soundboard/images/mario3box.gif'){
            elem.src='./images/mario3boxempty.png';
        } else {
            elem.src='./images/mario3box.gif';
        }
    }

  function playSound(e) {
    //e stands for event
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
    //messes with the animation of the buttons in the css
    const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
    //if there is no audio associated with the datakey, it ends the function
    if (!audio) return;

    key.classList.add('playing');
    //rewind to start of the soundfile when key is pressed
    audio.currentTime = 0;
    //plays the sound file
    audio.play();
  }

  const keys = Array.from(document.querySelectorAll('.key'));
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  window.addEventListener('keydown', playSound);
  window.addEventListener('keydown', changeBlock);
</script>


</body>
</html>
